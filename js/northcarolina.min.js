var L,$,carto,nc_map=L.map("nc-map",{center:[35.6,-79.5],zoom:7,maxBounds:[[0,-100],[60,-60]]});L.tileLayer("https://{s}.basemaps.cartocdn.com/rastertiles/dark_all/{z}/{x}/{y}.png",{minZoom:7,maxZoom:18}).addTo(nc_map);var client=new carto.Client({apiKey:"8f2d374ce43b897835ad9ffa471e3a30a9ec603a",username:"jmyatt2"});function onEachFeature(e,o){var r="";r+="District "+e.properties.DISTRICT+"<br>",o.bindPopup(r),o.on({mouseover:highlightFeature,mouseout:resetHighlight})}function highlightFeature(e){var o=e.target;o.setStyle({weight:2,outline:"yellow",fillOpacity:0}),L.Browser.ie||L.Browser.opera||L.Browser.edge||o.bringToFront()}function resetHighlight(e){e.target.setStyle({fill:"white",color:"white",weight:.5,opacity:1,fillOpacity:.2})}function zoomToFeature(e){nc_map.fitBounds(e.target.getBounds())}var promise=$.getJSON("data/NorthCarolina.geojson");promise.then(function(e){var o=L.geoJson(e,{filter:function(e,o){return 19850==e.properties.Code},onEachFeature:onEachFeature,style:{fillColor:"#01AFFA",color:"white",weight:.5,opacity:1}}),r=L.geoJson(e,{filter:function(e,o){return 19851==e.properties.Code},onEachFeature:onEachFeature,style:{fillColor:"#F51B38",color:"white",weight:.5,opacity:1}}),t=L.geoJson(e,{filter:function(e,o){return 19950==e.properties.Code},onEachFeature:onEachFeature,style:{fillColor:"#01AFFA",color:"white",weight:.5,opacity:1}}),a=L.geoJson(e,{filter:function(e,o){return 19951==e.properties.Code},onEachFeature:onEachFeature,style:{fillColor:"#F51B38",color:"white",weight:.5,opacity:1}}),n=L.geoJson(e,{filter:function(e,o){return 20050==e.properties.Code},onEachFeature:onEachFeature,style:{fillColor:"#01AFFA",color:"white",weight:.5,opacity:1}}),c=L.geoJson(e,{filter:function(e,o){return 20051==e.properties.Code},onEachFeature:onEachFeature,style:{fillColor:"#F51B38",color:"white",weight:.5,opacity:1}}),i=L.geoJson(e,{filter:function(e,o){return 20150==e.properties.Code},onEachFeature:onEachFeature,style:{fillColor:"#01AFFA",color:"white",weight:.5,opacity:1}}),l=L.geoJson(e,{filter:function(e,o){return 20151==e.properties.Code},onEachFeature:onEachFeature,style:{fillColor:"#F51B38",color:"white",weight:.5,opacity:1}});$("#nc-button-1985").click(function(){nc_map.addLayer(o),nc_map.addLayer(r),nc_map.removeLayer(t),nc_map.removeLayer(a),nc_map.removeLayer(n),nc_map.removeLayer(c),nc_map.removeLayer(i),nc_map.removeLayer(l),$("#nc-button-1985").css("border","5px solid red"),$("#nc-button-1995").css("border","5px solid lightgray"),$("#nc-button-2005").css("border","5px solid lightgray"),$("#nc-button-2015").css("border","5px solid lightgray")}),$("#nc-button-1995").click(function(){nc_map.addLayer(t),nc_map.addLayer(a),nc_map.removeLayer(o),nc_map.removeLayer(r),nc_map.removeLayer(n),nc_map.removeLayer(c),nc_map.removeLayer(i),nc_map.removeLayer(l),$("#nc-button-1985").css("border","5px solid lightgray"),$("#nc-button-1995").css("border","5px solid red"),$("#nc-button-2005").css("border","5px solid lightgray"),$("#nc-button-2015").css("border","5px solid lightgray")}),$("#nc-button-2005").click(function(){nc_map.addLayer(n),nc_map.addLayer(c),nc_map.removeLayer(o),nc_map.removeLayer(r),nc_map.removeLayer(t),nc_map.removeLayer(a),nc_map.removeLayer(i),nc_map.removeLayer(l),$("#nc-button-1985").css("border","5px solid lightgray"),$("#nc-button-1995").css("border","5px solid lightgray"),$("#nc-button-2005").css("border","5px solid red"),$("#nc-button-2015").css("border","5px solid lightgray")}),$("#nc-button-2015").click(function(){nc_map.addLayer(i),nc_map.addLayer(l),nc_map.removeLayer(o),nc_map.removeLayer(r),nc_map.removeLayer(t),nc_map.removeLayer(a),nc_map.removeLayer(n),nc_map.removeLayer(c),$("#nc-button-1985").css("border","5px solid lightgray"),$("#nc-button-1995").css("border","5px solid lightgray"),$("#nc-button-2005").css("border","5px solid lightgray"),$("#nc-button-2015").css("border","5px solid red")})});